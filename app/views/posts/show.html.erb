<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 text-center">
      <h2>投稿詳細</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-12 mx-auto text-center">
      <div class="card align-items-stretch" style="width: 18rem;">
        <% if @post.post_image.present? %>
          <%= image_tag @post.post_image, class: "bd-placeholder-img card-img-top", width: "100%", height: "180", xmlns: "http://www.w3.org/2000/svg", preserveAspectRatio: "xMidYMid slice", focusable: "false", role: "img", "aria-label": "Placeholder: Image cap" %>
        <% else %>
          <%= image_tag "no_image.jpg", class: "bd-placeholder-img card-img-top", width: "100%", height: "180", xmlns: "http://www.w3.org/2000/svg", preserveAspectRatio: "xMidYMid slice", focusable: "false", role: "img", "aria-label": "Placeholder: Image cap" %>
        <% end %>
        <div class="card-body">
          <h5 class="card-title"><%= @post.title %></h5>
          <p class="card-text">
            <% max_length = 50 %>
            <% truncated_body = @post.body.truncate(max_length, omission: '...') %>
            <p><%= truncated_body %></p>
          </p>
          <h5>ジャンル</h5>
          <p><%= @post.genre.genre_name %></p>
          <p><%= image_tag @post.get_post_image(100, 100) %></p>
          <h5>ニックネーム</h5>
          <p><%= @post.user.nickname %></p>
          <%= link_to "投稿者詳細を見る", user_path(@post.user.id), class: "btn btn-info" %>
        </div>
      </div>
    </div>
  </div>

  <div class="row py-2 d-flex justify-content-center">
    <% if @post.user == current_user %>
      <div class="col text-center">
        <%= link_to "編集", edit_post_path(@post.id), class: "btn btn-success" %>
        <%= link_to "削除", post_path(@post.id), method: :delete, "data-confirm" => "本当に削除しますか？", class: "btn btn-danger" %>
    <% end %>
        <%= link_to "戻る", posts_path, class: "btn btn-dark" %>
      </div>
  </div>
</div>